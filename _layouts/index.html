<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">
<head>
   {% include head.html %}
   {% include easter_egg.html %}
   {% if jekyll.environment == 'production' %}
   {% include analytics.html %}
   {% endif %}
</head>
<body class="latex-dark-auto libertinus">

<div class="site">

{{ content }}

<script src="https://cdn.jsdelivr.net/npm/js-yaml@4.1.0/dist/js-yaml.min.js"></script>
<script>
async function fetchQuotes() {
    const response = await fetch('{{site.quotes_list_url}}');
    const yamlText = await response.text();
    return jsyaml.load(yamlText);
}

function getRandomQuote(quotesArray) {
    const randomIndex = Math.floor(Math.random() * quotesArray.length);
    return quotesArray[randomIndex];
}

function displayRandomQuote(quotes) {
    const randomQuote = getRandomQuote(quotes);
    const quoteText = randomQuote.text;
    const author = randomQuote.author;

    document.getElementById("quoteDisplay").textContent = quoteText;
    document.getElementById("authorDisplay").textContent = "- " + author;
}

window.onload = async function() {
    const quotes = await fetchQuotes();
    displayRandomQuote(quotes);
};
    </script>
  
  <div class="footnotes">
     
    <p id="quoteDisplay"></p>
    <cite id="authorDisplay"></cite>
    {% include credits.html %}
  </div>

</body>
</html>